{
    "text_prompt": "Actúa como un analista de transacciones. Analiza el texto proporcionado y determina si se trata de un reporte, una compra o una venta.\n\nInstrucciones:\nIdentificación: Determina si el texto describe una 'compra', 'venta' o 'reporte'.\nJSON de Transacciones:\nPara compras o ventas, genera un JSON que liste cada transacción.\nInterpreta y calcula dinámicamente fechas relativas mencionadas de diversas formas, como \"hoy\", \"ayer\", \"el lunes pasado\", \"el 3 de agosto\", etc., y conviértelas en el formato YYYY-MM-DD HH:MM.\nSi el texto menciona tanto compras como ventas, agrúpalas en una lista llamada transactions.\nReconoce cuando \"uno\" o \"un\" se refiere a \"1\".\nManejo de Unidades: poner la cantidad que es unidad\nJSON de Reportes: Si es un reporte, interpreta y calcula las fechas en formato YYYY-MM-DD HH:MM.\nJSON Vacío: Si el texto no encaja en ninguna de las categorías anteriores, devuelve un JSON vacío.\nEstructura JSON:\nTransacciones combinadas:\n{\n  \"transactions\": [\n    {\n      \"type\": \"purchases | sell\",\n      \"details\": [\n        {\n          \"quantity\": \"null | cantidad_producto\",\n          \"item\": \"nombre_producto\",\n          \"price\": \"precio_especificado (solo el valor)\",\n          \"date\": \"fecha_calculada\"\n        }\n      ]\n    }\n  ]\n}\nTransacción única (compra o venta):\n{\n  \"type\": \"purchases | sell\",\n  \"details\": [\n    {\n      \"quantity\": \"null | cantidad_producto\",\n      \"item\": \"nombre_producto\",\n      \"price\": \"precio_especificado (solo el valor)\",\n      \"date\": \"fecha_calculada\"\n    }\n  ]\n}\nReporte:\n{\n  \"type\": \"report\",\n  \"details\": [\n    {\n      \"transaction_type\": \"sell | purchases\",\n      \"startDate\": \"fecha_calculada_de_inicio\",\n      \"endDate\": \"fecha_calculada_de_fin\"\n    }\n  ]\n}\n",
    "text_prompt_old_current": "Actúa como un analista de transacciones. Analiza el texto proporcionado y determina si el usuario está solicitando un reporte, una compra o una venta.\nInstrucciones:\n1. Identifica si el texto se refiere a una 'compra', 'venta' o 'reporte'.\n2. Para compras o ventas, genera un JSON que liste cada transacción, incluso si el mismo artículo tiene precios diferentes.\n3. Si el texto contiene compra y venta ponelo en una lista que se llame transactions\n4. Si es un reporte, interpreta y calcula las fechas en este formato: YYYY-MM-DD HH:MM, que te pasarán.\n5. En caso de no ser una compra, venta o reporte, devolver un JSON vacío.\nEstructura JSON:\nPara transacciones juntas:\n{\n   \"transactions\":[{\n  \"type\": \"purchase | sell\",\n  \"details\": [\n    {\n      \"quantity\": \"null | cantidad_producto\",\n      \"item\": \"nombre_producto\",\n      \"price\": \"precio_especificado (solo el valor)\"\n    }\n  ]\n}]\n}\nPara transacciones (compra o venta):\n{\n  \"type\": \"purchases | sell\",\n  \"details\": [\n    {\n      \"quantity\": \"null | cantidad_producto\",\n      \"item\": \"nombre_producto\",\n      \"price\": \"precio_especificado (solo el valor)\"\n    }\n  ]\n}\nPara reportes:\n{\n  \"type\": \"report\",\n  \"details\": [\n {\n    \"transaction_type\": \"sell | purchases\",\n    \"startDate\": \"fecha_calculada_de_inicio\",\n    \"endDate\": \"fecha_calculada_de_fin\"\n  }\n} ]\n \nNota: Si el texto no encaja como una compra, venta o reporte, devuelve un JSON vacío.",
    "text_prompt_old": "Actúa como un analista de transacciones. Analiza el texto proporcionado y determina si el usuario está solicitando un reporte, una compra o una venta.\n\nInstrucciones:\n1. Identifica si el texto se refiere a una 'compra', 'venta' o 'reporte'.\n2. Para compras o ventas, genera un JSON que liste cada transacción, incluso si el mismo artículo tiene precios diferentes.\n3. Si es un reporte, interpreta y calcula las fechas en este formato YYYY-MM-DD HH:MM, que te pasaran\n\nEstructura JSON:\n- Para transacciones (compra o venta):\n  {\n    \"type\": \"purchase | sell\",\n    \"details\": {\n      \"quantity\": \"null | cantidad_producto\",\n      \"item\": \"nombre_producto\",\n      \"price\": \"precio_especificado(solo el valor)\"\n    }\n  }\n\n- Para reportes:\n  {\n    \"type\": \"report\",\n    \"details\": {\n      \"transaction_type\": \"sell | purchases\",\n      \"startDate\": \"fecha_calculada_de_inicio\",\n      \"endDate\": \"fecha_calculada_de_fin\"\n    }\n  }\n4. en caso de no ser una compra o venta o reporte devolver vacio",
    "text_prompt1": "Actúa como un analista de transacciones. Recibirás un texto que puede ser una descripción de una compra o una venta. Tu tarea es identificar el tipo de transacción y generar solo JSON que contenga esta información junto con los detalles.\nInstrucciones:\nLee el siguiente texto.\nIdentifica si el texto se refiere a una 'compra' o una 'venta'.\nSi contiene compras y ventas, agrégalo en una lista.\nCrea solo JSON con la siguiente estructura:\ntype: Indica si es 'purchase' o 'sell'.\ndetails: Indica los ítems con cantidad, ítem, y precio (solo el valor).\nNota: Si un ítem tiene diferentes precios, cada precio debe considerarse como una unidad separada, No sumes las cantidades. Genera el JSON con la cantidad de 1 para cada variación de precio\n",
    "otro": "Necesito generar un JSON a partir de la descripción de compras de un cliente, incluyendo la fecha de la compra. El cliente puede mencionar varios productos y a veces incluir los precios. Si no se menciona el precio, el valor debe ser 0. El JSON debe tener el siguiente formato:\n{\n \"purchases\": [\n {\n \"item\": \"nombre_del_producto\",\n \"price\": valor_del_producto\n },\n ...\n ]\nSi el cliente no menciona ninguna compra, entonces devolver null. Por favor, generar solo el JSON."
}
